#######################################
# Global microservices configuration  #
#######################################

# Logger
logging.level.regards=INFO

# Security properties
access_token.validity_period=3600
jwt.secret=123456789

# Bootstrap tenants
regards.bootstrap-tenants=project1

# Rabbitmq
spring.rabbitmq.host=@regards.config.spring.rabbitmq.host@
spring.rabbitmq.port=@regards.config.spring.rabbitmq.port@
spring.rabbitmq.username=@regards.config.spring.rabbitmq.username@
spring.rabbitmq.password=@regards.config.spring.rabbitmq.password@
regards.amqp.microservice.typeIdentifier=${spring.application.name}
regards.amqp.microservice.instanceIdentifier=${spring.application.name}_0
regards.amqp.management.host=@regards.config.regards.amqp.management.host@
regards.amqp.management.port=@regards.config.regards.amqp.management.port@

# Database
regards.db.host=@regards.config.regards.postgres.host@
regards.db.port=@regards.config.regards.postgres.port@
regards.db.username=@regards.config.regards.postgres.username@
regards.db.password=@regards.config.regards.postgres.password@

# When true, automatically set a microservice in maintenance when an exception is not catched
regards.microservices.enable.maintenance.mode=@regards.config.regards.maintenance@

# Instance tenant name
regards.instance.tenant.name=instance

# Authorized ip addresses split character ';'
regards.cors.requests.authorized.clients.addresses=@regards.config.cors.requests.authorized.clients.addresses@

regards.elasticsearch.string.facet.size=10
regards.elasticsearch.string.facet.min.doc.count=1

# Eureka client configuration
eureka.instance.leaseRenewalIntervalInSeconds=1
eureka.instance.leaseExpirationDurationInSeconds=2

# Configure Hystrix (packaged with zuul)
# Enable the user of SecurityContext in the Hystrix thread
hystrix.command.default.execution.isolation.strategy=SEMAPHORE
hystrix.command.default.execution.timeout.enabled=false
hystrix.command.default.execution.isolation.thread.timeoutInMilliseconds=60000

# Configure ribbon (packaged with zuul)
ribbon.eureka.enabled=true

# Ribbon configuration
ribbon.ConnectTimeout=3000
ribbon.ReadTimeout=60000

# Eureka configuration
regards.eureka.client.enabled=true
eureka.client.enabled=true
eureka.client.serviceUrl.defaultZone=http://@regards.config.cloud.registry.host@:@regards.config.cloud.registry.port@/eureka

# Hateoas
spring.hateoas.use-hal-as-default-json-media-type=false

# Actuator properties
endpoints.shutdown.enabled=true

# HTTP message conversion
spring.http.converters.preferred-json-mapper=gson

# Charset used by applications
spring.http.encoding.charset=utf-8

# Change the max file size
spring.http.multipart.max-file-size=150MB
spring.http.multipart.max-request-size=200MB

# Download streaming timeout (cf order and storage) => 1 day
spring.mvc.async.request-timeout = 86400000

# Workspace
regards.workspace=@regards.config.workspace.directory@

zuul.prefix=/api/v1