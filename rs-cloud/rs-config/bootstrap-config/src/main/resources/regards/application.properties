#######################################
# Global microservices configuration  #
#######################################

# Logger
logging.level.regards=INFO

# Security properties
access_token.validity_period=3600
jwt.secret=123456789
# Encryption properties
regards.cipher.keyLocation=@regards.config.cipher.key.location@
regards.cipher.iv=@regards.config.cipher.iv@

# Bootstrap tenants
regards.bootstrap-tenants=@regards.config.first.project@

# Rabbitmq
spring.rabbitmq.host=@regards.config.spring.rabbitmq.host@
spring.rabbitmq.port=@regards.config.spring.rabbitmq.port@
spring.rabbitmq.username=@regards.config.spring.rabbitmq.username@
spring.rabbitmq.password=@regards.config.spring.rabbitmq.password@
regards.amqp.microservice.typeIdentifier=${spring.application.name}
regards.amqp.microservice.instanceIdentifier=${spring.application.name}_0
regards.amqp.management.host=@regards.config.regards.amqp.management.host@
regards.amqp.management.port=@regards.config.regards.amqp.management.port@

# Proxy
http.proxy.host=@regards.config.http.proxy.host@
http.proxy.port=@regards.config.http.proxy.port@

# Database
regards.db.host=@regards.config.regards.postgres.host@
regards.db.port=@regards.config.regards.postgres.port@
regards.db.username=@regards.config.regards.postgres.username@
regards.db.password=@regards.config.regards.postgres.password@

# Initial project public access address
regards.config.first.project.public.access=@regards.config.first.project.public.access@

# When true, automatically set a microservice in maintenance when an exception is not catched
regards.microservices.enable.maintenance.mode=@regards.config.regards.maintenance@

# Instance tenant name
regards.instance.tenant.name=instance

# Authorized ip addresses split character ';'
regards.cors.requests.authorized.clients.addresses=@regards.config.cors.requests.authorized.clients.addresses@

regards.elasticsearch.string.facet.size=10
regards.elasticsearch.string.facet.min.doc.count=1

# Eureka client configuration
eureka.instance.leaseRenewalIntervalInSeconds=1
eureka.instance.leaseExpirationDurationInSeconds=2

# Configure Hystrix (packaged with zuul)
# Enable the user of SecurityContext in the Hystrix thread
hystrix.command.default.execution.isolation.strategy=SEMAPHORE
hystrix.command.default.execution.timeout.enabled=false
hystrix.command.default.execution.isolation.thread.timeoutInMilliseconds=600000

# Configure ribbon (packaged with zuul)
ribbon.eureka.enabled=true

# Download streaming timeout into Spring MVC (cf order and storage) => 1 hour
spring.mvc.async.request-timeout = 3600000

# Download streaming timeout into Jetty
jetty.threadPool.idleTimeout = 3600000

# Ribbon configuration
ribbon.ConnectTimeout=3000
ribbon.ReadTimeout=600000

# Eureka configuration
regards.eureka.client.enabled=true
eureka.client.enabled=true
eureka.client.serviceUrl.defaultZone=http://@regards.config.cloud.registry.host@:@regards.config.cloud.registry.port@/eureka

# Hateoas
spring.hateoas.use-hal-as-default-json-media-type=false

# Actuator properties
endpoints.shutdown.enabled=true

# HTTP message conversion
spring.http.converters.preferred-json-mapper=gson

# Charset used by applications
spring.http.encoding.charset=utf-8

# Change the max file size
spring.http.multipart.max-file-size=150MB
spring.http.multipart.max-request-size=200MB


# Workspace
regards.workspace=@regards.config.workspace.directory@

zuul.prefix=/api/v1

management.security.enabled=false
