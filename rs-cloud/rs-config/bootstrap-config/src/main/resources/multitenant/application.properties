#######################################
# Global microservices configuration  #
#######################################

# Logger
logging.level.regards=INFO

# Security properties
access_token.validity_period=3600
jwt.secret=123456789

# Bootstrap tenants
regards.bootstrap-tenants=project1

# Rabbitmq
spring.rabbitmq.host=@regards.config.spring.rabbitmq.host@
spring.rabbitmq.port=@regards.config.spring.rabbitmq.port@
spring.rabbitmq.username=@regards.config.spring.rabbitmq.username@
spring.rabbitmq.password=@regards.config.spring.rabbitmq.password@
regards.amqp.microservice.typeIdentifier=${spring.application.name}
regards.amqp.microservice.instanceIdentifier=${spring.application.name}_0
regards.amqp.management.host=@regards.config.regards.amqp.management.host@
regards.amqp.management.port=@regards.config.regards.amqp.management.port@

# First tenant database configuration (one for all microservices)
regards.jpa.multitenant.dialect=org.hibernate.dialect.PostgreSQLDialect
regards.jpa.multitenant.tenants[0].url=jdbc:postgresql://@regards.config.multitenant.db.host@:@regards.config.multitenant.db.port@/@regards.config.multitenant.db.name@
regards.jpa.multitenant.tenants[0].user-name=@regards.config.multitenant.db.user.name@
regards.jpa.multitenant.tenants[0].password=@regards.config.multitenant.db.password@
regards.jpa.multitenant.tenants[0].tenant=@regards.config.first.project@
regards.jpa.multitenant.tenants[0].driverClassName=org.postgresql.Driver

# Instance tenant name
regards.instance.tenant.name=instance

# Authorized ip addresses split character ';'
regards.cors.requests.authorized.clients.addresses=@regards.config.cors.requests.authorized.clients.addresses@

regards.elasticsearch.string.facet.size=10
regards.elasticsearch.string.facet.min.doc.count=1

# Eureka client configuration
eureka.instance.leaseRenewalIntervalInSeconds=1
eureka.instance.leaseExpirationDurationInSeconds=2

# Configure Hystrix (packaged with zuul)
# Enable the user of SecurityContext in the Hystrix thread
hystrix.command.default.execution.isolation.strategy=SEMAPHORE
hystrix.command.default.execution.timeout.enabled=false
hystrix.command.default.execution.isolation.thread.timeoutInMilliseconds=60000

# Configure ribbon (packaged with zuul)
ribbon.eureka.enabled=true

# Ribbon configuration
ribbon.ConnectTimeout=3000
ribbon.ReadTimeout=60000

# Eureka configuration
regards.eureka.client.enabled=true
eureka.client.enabled=true
eureka.client.serviceUrl.defaultZone=http://@regards.config.cloud.registry.host@:@regards.config.cloud.registry.port@/eureka

# Hateoas
spring.hateoas.use-hal-as-default-json-media-type=false

# Actuator properties
endpoints.shutdown.enabled=true

# HTTP message conversion
spring.http.converters.preferred-json-mapper=gson

# Charset used by applications
spring.http.encoding.charset=utf-8
