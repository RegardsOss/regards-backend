= Storage module API

== AIPController
:TestClass: AIPControllerIT

[[overview]]
=== Overview

 This API allows to create, list, update, delete AIPs and extract some of its information.

=== Retrieve multiple AIP metadata

:TestMethod: testRetrieveAips

 Allow to retrieve multiple aip metadata thanks to their state and submission date

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-parameters.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]

=== Submit AIPs successfully

:TestMethod: testStore

 Validate and store the specified AIPs

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]

=== Submit AIPs with partial fail

:TestMethod: testStoreFailPartial

 Validate and store the specified AIPs

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]

=== Submit AIPs with no valid AIPs

:TestMethod: testStoreUnvalid

 Validate and store the specified AIPs

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]

=== Submit AIPs that are already stored

:TestMethod: testStoreTotalFail

 Validate and store the specified AIPs

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]

=== Retrieve one AIP metadata

:TestMethod: testRetrieveAip

 Allow to retrieve a given aip metadata thanks to its ipId

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/path-parameters.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]

=== Retrieve multiple AIP metadata

:TestMethod: testRetrieveAipBulk

 Allow to retrieve a collection of aip corresponding to the given set of ids

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]

=== Retrieve multiple AIP metadata associated to a specific tag

:TestMethod: testRetrieveAipTag

 Retrieve a collection of AIP according to a tag

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/path-parameters.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]

=== Retrieve the list of files associated to an AIP

:TestMethod: testRetrieveAIPFiles

 Send the list of files metadata of a specified aip

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/path-parameters.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]

=== Retrieve the history of an AIP

:TestMethod: testRetrieveAIPHistory

 Send the history of event occurred on each data file of the specified AIP

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/path-parameters.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]

=== Retrieve the different versions of an AIP

:TestMethod: testRetrieveAIPVersionHistory

 Send the list of versions of an aip through their ip ids

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/path-parameters.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]

=== Require availability of files

:TestMethod: testMakeAvailable

 Allow to request download availability for given files and return already available files

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]

=== Download AIP file

:TestMethod: testDownload

 Download one file from a given AIP by checksum

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/path-parameters.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]

=== Delete AIP

:TestMethod: testDelete

 Allow to delete a given aip

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/path-parameters.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]

== PrioritizedDataStorageController
:TestClass: PrioritizedDataStorageControllerIT

[[overview]]
=== Overview

 This API allows to create, list, update, delete PrioritizedDataStorages.

=== Retrieve multiple Prioritized Data Storage thanks to their type

:TestMethod: testRetrieveByType

 Allow to retrieve prioritized data storages by their type

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-parameters.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]

=== Create a Prioritized Data Storage

:TestMethod: testCreate

 Allow to create a prioritized data storage

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-fields.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/response-fields.adoc[]

=== Retrieve a Prioritized Data Storage

:TestMethod: testRetrieve

 Allow to retrieve a prioritized data storage thanks to its id

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/path-parameters.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/response-fields.adoc[]

=== Update the Data Storage associate to the Prioritzed Data Storage

:TestMethod: testUpdate

 Allow to update a prioritized data storage thanks to its id

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/path-parameters.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-fields.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/response-fields.adoc[]

=== Increase Prioritized Data Storage priority

:TestMethod: testIncreasePriority

 Allow to increase a prioritized data storage priority thanks to its id

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/path-parameters.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]

=== Decrease Prioritized Data Storage priority

:TestMethod: testDecreasePriority

 Allow to decrease a prioritized data storage priority thanks to its id

include::{snippets}/{TestClass}/{TestMethod}/http-request.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/path-parameters.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/request-body.adoc[]

include::{snippets}/{TestClass}/{TestMethod}/http-response.adoc[]